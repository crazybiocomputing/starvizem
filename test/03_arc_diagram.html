<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <title>Test Arc Diagram</title>
    <script src="../javascripts/d3.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/arcDiagram.js"></script>
    <script src="../js/barChart.js"></script>
    <script src="../js/donut.js"></script>

  <script type="text/javascript">
  
  const createGraph = (rootID) => {
    // Get JSON data from web service
    d3.json('/pipeline')
      .then( (graph) => {
      /*
        let svg = createArcDiagram(graph);
        // Create a minimal dashboard :-D
        let root = document.getElementById(rootID);
        // Attach element to DOM.
        d3.select(root)
          .append(() => svg.node());
      */
        let list = document.createElement('ul');
        root.appendChild(list);
        graph.jobs.forEach( (job) => {
          let item = document.createElement('li');
          item.innerHTML = `<strong>JobID</strong>: ${job.jobID}, <strong>Alias</strong>: ${job.alias}, <strong>Path</strong>: ${job.path}`;
          list.appendChild(item);
        });
      });
  };

  </script>

  </head>
  <body onload="createGraph('root');">
    <h1>Tests of StarVizEM - Arc Diagram</h1>
    <ul>
    <li><a href="javascript:void" onclick="create('/Class2D/job006/run_it025_data.star')">job006</a></li>
    </ul>
    
    <content id="root"></content>
    
  </body>
</html>
